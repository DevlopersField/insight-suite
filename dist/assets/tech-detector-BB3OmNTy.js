function r(e){try{return typeof window>"u"?void 0:window[e]}catch{return}}function o(e,t){return Array.from(e.querySelectorAll("script[src]")).some(n=>(n.getAttribute("src")??"").includes(t))}function s(e,t){return Array.from(e.querySelectorAll("link[href]")).some(n=>(n.getAttribute("href")??"").includes(t))}function u(e,t){const n=e.querySelector('meta[name="generator"]');return n?(n.getAttribute("content")??"").toLowerCase().includes(t.toLowerCase()):!1}const y=[{name:"Next.js",category:"Framework",icon:"âš¡",detect:e=>r("__NEXT_DATA__")?98:o(e,"/_next/")?90:e.querySelector("#__next")?85:0},{name:"Nuxt.js",category:"Framework",icon:"ðŸ’š",detect:e=>r("__NUXT__")?95:e.querySelector("#__nuxt")?85:0},{name:"Gatsby",category:"Framework",icon:"ðŸŸ£",detect:e=>e.querySelector("#___gatsby")?92:o(e,"/page-data/")?80:0},{name:"React",category:"Library",icon:"âš›ï¸",detect:e=>{if(r("React")||r("__REACT_DEVTOOLS_GLOBAL_HOOK__"))return 95;if(e.querySelector("[data-reactroot]"))return 90;const t=e.querySelector("#root")||e.querySelector("#__next");return t&&t._reactRootContainer?92:e.querySelector("[data-reactid]")?85:0}},{name:"Vue.js",category:"Library",icon:"ðŸŸ¢",detect:e=>{if(r("Vue")||r("__VUE__"))return 95;if(e.querySelector("[data-v-]")||e.querySelector("[data-v-app]"))return 88;const t=e.querySelectorAll("*");for(const n of Array.from(t).slice(0,50))for(const a of Array.from(n.attributes))if(a.name.startsWith("data-v-"))return 85;return 0}},{name:"Angular",category:"Framework",icon:"ðŸ…°ï¸",detect:e=>{if(r("ng")||r("angular"))return 95;if(e.querySelector("[ng-app]")||e.querySelector("[ng-controller]"))return 90;if(e.querySelector("app-root")||e.querySelector("[_nghost]"))return 88;const t=e.querySelectorAll("*");for(const n of Array.from(t).slice(0,50))for(const a of Array.from(n.attributes))if(a.name.startsWith("_ngcontent")||a.name.startsWith("_nghost"))return 85;return 0}},{name:"jQuery",category:"Library",icon:"ðŸ“œ",detect:e=>{var t,n;return r("jQuery")||(n=(t=r("$"))==null?void 0:t.fn)!=null&&n.jquery?95:o(e,"jquery")?85:0}},{name:"WordPress",category:"CMS",icon:"ðŸ“",detect:e=>r("wp")&&r("wp").customize?95:u(e,"wordpress")?92:o(e,"/wp-content/")||o(e,"/wp-includes/")?90:s(e,"/wp-content/")?88:e.querySelector('link[rel="https://api.w.org/"]')?85:0},{name:"Shopify",category:"E-commerce",icon:"ðŸ›ï¸",detect:e=>r("Shopify")&&r("Shopify").shop?98:r("Shopify")?95:o(e,"cdn.shopify.com")?92:s(e,"cdn.shopify.com")||e.querySelector('meta[name="shopify-checkout-api-token"]')?90:e.querySelector('link[href*="shopify"]')?80:e.querySelector("[data-shopify]")||e.querySelector('input[name="checkout_url"]')?82:0},{name:"Shopify Theme",category:"E-commerce",icon:"ðŸŽ¨",detect:e=>{var n;const t=r("Shopify");return(n=t==null?void 0:t.theme)!=null&&n.name?95:t!=null&&t.theme?90:e.querySelector("[data-section-type]")||e.querySelector(".shopify-section")?80:0}},{name:"Wix",category:"CMS",icon:"ðŸ”²",detect:e=>r("wixBiSession")?95:u(e,"wix")?90:o(e,"static.wixstatic.com")?88:0},{name:"Squarespace",category:"CMS",icon:"â¬›",detect:e=>r("Static")&&r("SQUARESPACE_CONTEXT")?95:u(e,"squarespace")?92:0},{name:"Webflow",category:"CMS",icon:"ðŸŒ",detect:e=>u(e,"webflow")?95:e.querySelector("html.w-mod-js")?88:o(e,"webflow")?85:0},{name:"Tailwind CSS",category:"Styling",icon:"ðŸŽ¨",detect:e=>{var i,l;const t=(e instanceof Document?(i=e.body)==null?void 0:i.className:e.getAttribute("class"))??"",n=((l=e.innerHTML)==null?void 0:l.slice(0,5e3))??"",c=["flex","grid","mt-","p-","text-","bg-","rounded","shadow"].filter(f=>t.includes(f)||n.includes(`class="${f}`)||n.includes(` ${f}`)).length;return c>=4?85:c>=2?60:0}},{name:"Bootstrap",category:"Styling",icon:"ðŸ…±ï¸",detect:e=>s(e,"bootstrap")?90:o(e,"bootstrap")?88:e.querySelector(".container")&&e.querySelector(".row")&&e.querySelector("[class*='col-']")?75:0},{name:"Google Analytics",category:"Analytics",icon:"ðŸ“Š",detect:e=>r("ga")||r("gtag")?95:r("dataLayer")?88:o(e,"google-analytics.com")||o(e,"googletagmanager.com")?90:0},{name:"Google Tag Manager",category:"Analytics",icon:"ðŸ·ï¸",detect:e=>r("google_tag_manager")?95:o(e,"googletagmanager.com/gtm")?90:e.querySelector('noscript iframe[src*="googletagmanager"]')?85:0},{name:"Facebook Pixel",category:"Analytics",icon:"ðŸ“˜",detect:e=>r("fbq")?95:o(e,"connect.facebook.net")?90:0},{name:"Hotjar",category:"Analytics",icon:"ðŸ”¥",detect:e=>r("hj")||r("hotjar")?95:o(e,"hotjar.com")?90:0},{name:"Vercel",category:"Hosting",icon:"â–²",detect:e=>r("__NEXT_DATA__")&&e.querySelector('meta[name="x-vercel"]')?90:o(e,"vercel-analytics")||o(e,"va.vercel-scripts.com")?85:0},{name:"Cloudflare",category:"CDN",icon:"â˜ï¸",detect:e=>o(e,"cloudflare")||o(e,"cdnjs.cloudflare.com")?80:e.querySelector("script[data-cf-beacon]")?90:0},{name:"Stripe",category:"Payments",icon:"ðŸ’³",detect:e=>r("Stripe")?95:o(e,"js.stripe.com")?92:0},{name:"PayPal",category:"Payments",icon:"ðŸ’°",detect:e=>r("paypal")?95:o(e,"paypal.com/sdk")?92:0}];function m(e=document){var n;const t=[];for(const a of y)try{const c=a.detect(e);c>0&&t.push({name:a.name,category:a.category,confidence:c,icon:a.icon})}catch{}try{const a=r("Shopify");if((n=a==null?void 0:a.theme)!=null&&n.name){const c=t.find(i=>i.name==="Shopify Theme");c&&(c.name=`Shopify Theme: ${a.theme.name}`)}}catch{}return t.sort((a,c)=>c.confidence-a.confidence)}export{m as detectTech};
